{% extends 'main.twig' %}

{% block content %}

    <div class="mt-4">
        <div class="container px-0">
            <section class="col-sm-12 col-md-12" id="showQuestion">
                <div class="card border-bottom-1 br1-bottom-sm p-0 mb8 mb6-md shadow-md border-0">
                    <div class="p-3 py-sm-4 px-sm-5 bg-white">
                        <h1 class="mb-0">
                            Rediger ofte stilt spørsmål
                        </h1>
                    </div>
                    <hr class="my-0">
                    <div class="card-body pb-0">
                        <form action="editQuestion.php" method="post">

                            <table class="table table-bordered table-hover" id="mytable">
                                <thead>
                                <tr>
                                    <th>Spørsmål</th>
                                    <th>Svar</th>

                                </tr>
                                </thead>
                                <tbody>
                                {% for quest in questions %}

                                    <tr class="questionInfo" data-id="{{ quest.questionId }}">
                                        <td>{{ quest.question }}</td>
                                        <td>{{ quest.answer }}</td>
                                    </tr>

                                {% endfor %}
                                </tbody>
                            </table>

                            <div class="form-group">
                                <input type="hidden" id="fillQuestionText" value="" name="questionToEdit"/>
                                <input type="hidden" id="fillQuestId" value="" name="question_id"/>
                                <button type="button" class="btn btn-secondary" name="back"><a href="administratorTools.php" class="linkButton">Tilbake</a></button>
                                <button type="submit" name="deleteQuestion" class="btn btn-danger disabled" id="deleteQuestion">Slett</button>
                                <button type="button" class="btn btn-primary float-lg-right disabled" id="chooseQuestion">Velg</button>

                            </div>
                        </form>
                    </div>
                </div>
            </section>
            <section class="col-sm-12 col-md-8" id="editQuestion">
                <div class="card border-bottom-1 br1-bottom-sm p-0 mb8 mb6-md shadow-md border-0">
                    <div class="p-3 py-sm-4 px-sm-5 bg-white">
                        <h1 class="mb-0">
                            Rediger spørsmål
                        </h1>
                    </div>
                    <hr class="my-0">
                    <div class="card-body pb-0">

                        <br />
                        <form method="post">

                                <div class="form-group row">
                                    <div class="col">
                                    <textarea id="questionText" maxlength="200" class="form-control input-lg"
                                              name="questionText" required></textarea>
                                    </div>
                                </div>

                                <div class="form-group row">
                                    <div class="col">
                                    <textarea id="answerText" maxlength="400" class="form-control input-lg"
                                              name="answerText" required></textarea>
                                    </div>
                                </div>
                            <div class="form-group">
                                <button type="button" class="btn btn-secondary" id="previous">Tilbake</button>
                                <button type="submit" class="btn btn-primary" name="changeQuest">Oppdater</button>
                            </div>
                            <input id="questionId" type="hidden" value="" name="questionId"/>
                        </form>

                    </div>
                </div>
            </section>
        </div>
    </div>

    <div class="modal fade" style="padding-top: 120px" id="deleteQuestionModal">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-body">
                    <form action="editQuestion.php" method="post">
                        <h6 style="text-align: center">Vil du slette spørsmål '{{ questionText }}'?</h6>

                        <input type="hidden" name="questionIdDeleteModal" value="{{ question_id }}"/>
                </div>
                <div class="modal-footer">
                    <button type="submit" class="btn btn-primary ml-auto mr-auto" name="saveDeletedQuestion">Yes</button>
                    <button type="button" class="btn btn-primary ml-auto mr-auto" data-dismiss="modal">No</button>
                </div>
                </form>
            </div>
        </div>
    </div>
{% endblock %}

{% block bodyscripts %}
    <script src="js/editQuestion.js"></script>

{% endblock %}